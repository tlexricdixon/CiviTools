builder.Services.AddSingleton<ComponentRegistry>();
// or
builder.Services.AddScoped<ComponentRegistry>();